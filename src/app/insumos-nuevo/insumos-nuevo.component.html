<h1>Añadir insumo</h1>

<form [formGroup]="insumoForm" (ngSubmit)="onSubmit()">
    <label for="nombre">Nombre</label>
    <input class="m-2" id="nombre" formControlName="nombre" type="text" />
    <div *ngIf="insumoForm.get('nombre')?.invalid && insumoForm.get('nombre')?.touched">
        <div *ngIf="insumoForm.get('nombre')?.errors?.['required']">El nombre es requerido</div>
        <div *ngIf="insumoForm.get('nombre')?.errors?.['minlength']">El nombre debe tener al menos 3 caracteres</div>
        <div *ngIf="insumoForm.get('nombre')?.errors?.['maxlength']">El nombre no puede exceder los 30 caracteres</div>
        <div *ngIf="insumoForm.get('nombre')?.errors?.['uniqueName']">El nombre ya está en uso</div>
    </div>

    <label for="unidad">Unidad</label>
    <select class="m-2" id="unidad" formControlName="unidad">
        <option *ngFor="let unidad of unidades" [value]="unidad">{{ unidad }}</option>
    </select>
    <div *ngIf="insumoForm.get('unidad')?.invalid && insumoForm.get('unidad')?.touched">
        <div *ngIf="insumoForm.get('unidad')?.errors?.['required']">La unidad es requerida</div>
    </div>

    <button type="submit" [disabled]="insumoForm.invalid">Añadir insumo</button>
</form>